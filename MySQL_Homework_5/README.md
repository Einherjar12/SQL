## Тема: Введение в теорию баз данных
## Часть 5. Первое задание

**Задание 1**  
Все задания необходимо выполнить по отношению к базе данных «Музыкальная коллекция», описанной в практическом задании для этого модуля.  
Создайте следующие представления:  

- Представление, отображающее названия всех исполнителей;  
- Представление, отображающее полную информацию о всех песнях: название песни, название диска, длительность песни, музыкальный стиль песни, исполнитель;  
- Представление, отображающее информацию о музыкальных дисках конкретной группы;  
- Представление, отображающее название самого популярного в коллекции исполнителя (по количеству дисков в коллекции);  
- Представление, отображающее топ-3 самых популярных исполнителей (по количеству дисков);  
- Представление, отображающее самый долгий по длительности музыкальный альбом.  

**Задание 2**  
Все задания выполняются по отношению к базе данных «Музыкальная коллекция»:  

- Создайте обновляемое представление для вставки новых стилей;  
- Создайте обновляемое представление для вставки новых песен;  
- Создайте обновляемое представление для обновления информации об издателе;  
- Создайте обновляемое представление для удаления исполнителей;  
- Создайте обновляемое представление для обновления информации о конкретном исполнителе (например, Muse).  

**Задание 3**  
Все задания выполняются по отношению к базе данных «Продажи»:  

- Создайте обновляемое представление с информацией о всех продавцах;  
- Создайте обновляемое представление с информацией о всех покупателях;  
- Создайте обновляемое представление с информацией о всех продажах конкретного товара (например, яблок);  
- Создайте представление, отображающее все осуществленные сделки;  
- Создайте представление, отображающее информацию о самом активном продавце (по максимальной сумме продаж);  
- Создайте представление, отображающее информацию о самом активном покупателе (по максимальной сумме покупок).  

---

## Тема: Введение в теорию баз данных
## Часть 5. Второе задание

> При именовании баз данных, таблиц, столбцов и других объектов необходимо придерживаться рекомендаций по именованию объектов. Наименования объектов в заданиях даны для пояснения задачи.  

**Задание 1**  
К базе данных «Спортивный магазин» создайте следующие триггеры:  

- При добавлении нового товара проверять наличие на складе; если такой товар уже существует и данные совпадают, обновлять количество вместо добавления;  
- При увольнении сотрудника переносить его данные в таблицу «Архив сотрудников»;  
- Запрещать добавлять нового продавца, если количество существующих продавцов больше 6.  

**Задание 2**  
К базе данных «Музыкальная коллекция» создайте следующие триггеры:  

- Запрещать добавление уже существующего альбома;  
- Запрещать удаление дисков группы The Beatles;  
- При удалении диска переносить его информацию в таблицу «Архив»;  
- Запрещать добавление дисков музыкального стиля «Dark Power Pop».  

**Задание 3**  
К базе данных «Продажи» создайте следующие триггеры:  

- При добавлении покупателя проверять наличие покупателей с такой же фамилией; при совпадении записывать информацию в специальную таблицу;  
- При удалении покупателя переносить его историю покупок в таблицу «История покупок»;  
- При добавлении продавца проверять наличие записи в таблице покупателей; при совпадении добавление отменяется;  
- При добавлении покупателя проверять наличие записи в таблице продавцов; при совпадении добавление отменяется;  
- Запрещать вставку информации о продаже товаров: яблоки, груши, сливы, кинза.  

---

## Тема: Введение в теорию баз данных
## Часть 5. Третье задание

> При именовании объектов следует придерживаться правил базы данных.  

**Задание 1**  
Для базы данных «Спортивный магазин» создайте следующие хранимые процедуры:  

- Отображение полной информации о всех товарах;  
- Отображение информации о товаре конкретного вида (вид передаётся параметром);  
- Показ топ-3 самых старых клиентов по дате регистрации;  
- Показ самого успешного продавца (по сумме всех продаж);  
- Проверка наличия товара указанного производителя (возврат `yes` или `no`);  
- Отображение самого популярного производителя среди покупателей;  
- Удаление всех клиентов, зарегистрированных после указанной даты (возврат количества удалённых записей).  

**Задание 2**  
Для базы данных «Музыкальная коллекция» создайте следующие хранимые процедуры:  

- Показ полной информации о музыкальных дисках;  
- Показ полной информации о всех дисках конкретного издателя (название передаётся параметром);  
- Показ названия самого популярного стиля (по количеству дисков);  
- Показ диска конкретного стиля с наибольшим количеством песен (параметр — название стиля или `all` для анализа всех стилей);  
- Удаление всех дисков заданного стиля (возврат количества удалённых альбомов);  
- Отображение самого «старого» и самого «молодого» альбомов (по дате выпуска);  
- Удаление всех дисков, в названии которых есть заданное слово (возврат количества удалённых альбомов).  
